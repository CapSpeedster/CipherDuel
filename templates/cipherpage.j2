<html>
    <head>
        <link rel="stylesheet" type="text/css" href="/static/cipher.css"/>
        <style>
            .cipher-grid {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(30px, 1fr));
                gap: 5px;
                justify-items: center;
                max-width: 90%;
                margin: auto;
            }
    
            .cipher-pair {
                display: flex;
                flex-direction: column;
                align-items: center;
            }
    
            .cipher-input {
                width: 25px;
                text-align: center;
            }
    
            .cipher-letter {
                font-weight: bold;
                margin-bottom: 2px;
            }
    
            #checkbutton {
                margin-top: 20px;
                text-align: center;
            }
        </style>
        <script>
            function updateText() {
                let val = event.target.value;
                let name = event.target.name;
                let sameBoxes = document.getElementsByName(name);
                for (let i = 0; i<sameBoxes.length; i++) {
                    sameBoxes[i].value = val.toUpperCase();
                }
            }
            
        </script>
    <body>
        <form id='code' action="{{route}}" method="POST">
            {% for i in letters %}
                {% if i == ' '%}
                    {{i}}
                {% else %}
                    {{i}} <input class="letter" name="{{i}}" maxlength="1" size="1" oninput="updateText()" required/>
                {% endif %}
            {% endfor %}
            <div>
                {% if isK2 %}
                    {% for i in freqDict %}
                        <input class="letter" name="{{i}}" maxlength="1" size="1" oninput="updateText()"/> {{i}} {{freqDict[i]}}
                    {% endfor %}
                {%else%}
                    {% for i in freqDict %}
                        {{i}} {{freqDict[i]}} <input class="letter" name="{{i}}" maxlength="1" size="1" oninput="updateText()"/>
                    {% endfor %}
                {% endif %}
            </div>
            <div id="checkbutton"><button type="submit">Check</button></div>
        </form>
        <form id='cipherselect' action="/cipherselection">
            <button type="submit">Back to Cipher Selection</button>
        </form>
        <div id="checks">
            {% with checks = get_flashed_messages(category_filter=["check"]) %}
                {% if checks %}
                    {% for msg in checks%}
                        {{msg}}
                    {% endfor %}
                {% endif %}
            {% endwith %}
        </div>
        

    </body>
</html>